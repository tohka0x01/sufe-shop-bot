# Task 9: 模板样式迁移

## Meta Information

- **Size**: M
- **Hours**: 6
- **depends_on**: [6]
- **parallel**: false
- **conflicts_with**: [6, 7]
- **Status**: pending

## Objective

将所有内嵌样式从HTML模板迁移到外部CSS文件，建立统一的组件样式系统，提高代码可维护性和重用性。

## Detailed Description

### Scope
1. 分析base.html中的所有内嵌样式
2. 将base_style.html中的样式迁移到外部CSS文件
3. 创建统一的组件样式库（按钮、表格、表单等）
4. 更新所有模板引用，使用外部样式
5. 确保样式迁移后功能和外观保持一致

### Technical Requirements
- 创建 `static/css/main.css` 作为主样式文件
- 创建 `static/css/components.css` 存放组件样式
- 使用CSS变量管理主题色彩和间距
- 保持响应式设计
- 优化CSS加载性能

## Success Criteria

- [ ] 所有内嵌样式成功迁移到外部CSS文件
- [ ] 统一的组件样式系统建立完成
- [ ] 所有页面样式正常显示，无视觉差异
- [ ] CSS文件结构清晰，便于维护
- [ ] 样式加载性能优于或等于原内嵌方式

## Implementation Notes

### CSS文件结构
```
static/css/
├── main.css          # 主样式文件
├── components.css    # 组件样式
└── variables.css     # CSS变量定义
```

### 组件样式规范
- 按钮组件: `.btn`, `.btn-primary`, `.btn-danger`等
- 表格组件: `.table`, `.table-striped`, `.table-hover`等
- 表单组件: `.form-group`, `.form-control`, `.form-label`等
- 卡片组件: `.card`, `.card-header`, `.card-body`等

### 迁移步骤
1. 提取所有内嵌样式到临时文件
2. 分类整理样式（基础、布局、组件、工具类）
3. 创建CSS文件结构
4. 逐步迁移并测试每个页面
5. 删除HTML中的style标签和内嵌样式

## Testing Requirements

- [ ] 视觉回归测试：对比迁移前后页面截图
- [ ] 响应式测试：测试不同设备尺寸下的显示效果
- [ ] 性能测试：测量CSS加载时间
- [ ] 跨浏览器测试：Chrome、Firefox、Safari
- [ ] 组件独立性测试：确保组件样式不相互影响

## Risk Assessment

- **风险**: 样式迁移可能导致页面显示异常
- **缓解**: 分批迁移，每次迁移后进行充分测试
- **风险**: CSS文件过大影响加载性能
- **缓解**: 适当拆分CSS文件，使用压缩和缓存策略

## Dependencies

- Task 002必须完成（确保模板结构稳定）
- 需要static目录的正确配置
- 需要了解当前所有使用的样式

## Notes

- 保留原始样式备份，以便需要时回滚
- 考虑未来的主题切换需求
- 遵循BEM或其他CSS命名规范
- 注意保持与现有JavaScript代码的兼容性